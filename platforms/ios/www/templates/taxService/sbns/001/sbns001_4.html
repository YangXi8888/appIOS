<ion-view title="税款申报">
	<ion-nav-buttons side="left">
		<button class="button button-clear icon ion-ios-arrow-back" ng-click="back()">返回</button>
	</ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-clear" ng-click="goSubmit()">提&nbsp;交</button>
  </ion-nav-buttons>
	<ion-content has-bouncing="true" >
    <div>&nbsp;所得年份:{{sdNf}}&nbsp;年&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      填表日期:{{sbns001.sbns001_tbrq}}
    </div>
    <div style="text-align: right">
      金额单位:元(列至角分)
    </div>
    <div>注：如您有其他所得项目，请点击 <i class="ion ion-ios-plus-outline"></i> 新增。<br>(适用于年所得12万元以上的纳税人申报)</div>
    <div style="text-align: right">
      <button style="margin-right: 10px;margin-bottom: 5px" class="button button-small button-outline button-positive icon-left ion-ios-plus-outline" ng-click="addRecord()">新&nbsp;增</button></div>
    <table class="table table-bordered" id="sbns001_table3">
      <thead>
      <tr>
        <th data-toggle="true">
          所得项目
        </th>
        <th data-toggle="true">
          应补退税额
        </th>
        <th data-hide="tablet,phone">
          年所得额-境内
        </th>
        <th data-hide="tablet,phone">
          年所得额-境外
        </th>
        <th data-hide="tablet,phone">
          年所得额-合计
        </th>
        <th data-hide="tablet,phone">
          应纳税所得额
        </th>
        <th data-hide="tablet,phone">
          应纳税额
        </th>
        <th data-hide="tablet,phone">
          已缴(扣)税额
        </th>
        <th data-hide="tablet,phone">
          抵扣税额
        </th>
        <th data-hide="tablet,phone">
          减免税额
        </th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="item in hzList">
        <td name="sbns001_zspm" data-zspmdm="{{item.zspm_dm}}" ng-click="resizeScrollY()">{{item.zspm_mc}}</td>
        <td><input class="myinput" type="number" value="{{item.ybtse_je}}" readonly="readonly" cal="true" name="sbns001_ybTse"  style="text-align: right"></td>
        <td><input class="myinput" type="number" value="{{item.hjsre_je}}" cal="true" name="sbns001_nsdhJn"></td>
        <td><input class="myinput" type="number" value="{{item.jwsre_je}}" cal="true" name="sbns001_nsdhJw"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_nsdhHj"></td>
        <td><input class="myinput" type="number" value="{{item.ynssde_je}}" cal="true" name="sbns001_ynssde"></td>
        <td><input class="myinput" type="number" value="{{item.ynse_je}}" cal="true" name="sbns001_ynse"></td>
        <td><input class="myinput" type="number" value="{{item.yjkse_je}}" cal="true" name="sbns001_yjKse"></td>
        <td><input class="myinput" type="number" value="{{item.dkse_je}}" cal="true" name="sbns001_dkse"></td>
        <td><input class="myinput" type="number" value="{{item.misse_je}}" cal="true" name="sbns001_jmse"></td>
      </tr>
      <tr>
        <td ng-click="resizeScrollY()">合计</td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_ybTse_hj"  id="sbns001_ybTse_hj" style="text-align: right"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_nsdhJn_hj"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_nsdhJw_hj"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_nsdhHj_hj"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_ynssde_hj"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_ynse_hj"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_yjKse_hj"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_dkse_hj"></td>
        <td><input class="myinput" type="number" readonly="readonly" cal="true" name="sbns001_jmse_hj"></td>
      </tr>
      </tbody>
      <tfoot class="hide-if-no-paging">
      <tr>
        <td colspan="10">
          <div class="pagination pagination-centered"></div>
        </td>
      </tr>
      </tfoot>
    </table>
	</ion-content>
</ion-view>
<script id="addModal.html" type="text/ng-template" >
  <ion-modal-view>
    <ion-header-bar class="bar-positive">
      <a class="button button-clear icon ion-ios-close-outline" ng-click="closeAddModal()"></a>
      <h1 class="title" style="text-align: center">新增税目</h1>
      <a class="button button-clear icon ion-ios-checkmark-outline" ng-click="saveRecord(currentRecord)"></a>
    </ion-header-bar>
    <ion-content has-bouncing="true" >
      <div class="list">
        <label class="item item-input item-select">
          <span class="input-label col col-50" >所得项目</span>
          <select id="sbns001_4_sdxm" ng-model="currentRecord.sdxm" >
            <option value="">-请选择所得项-</option>
            <option value="{{item.zspm_dm}}" ng-repeat="item in sbns001.sbns001_zspmList">{{item.zspm_mc}}</option>
          </select>
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">年所得额-境内</span>
          <input type="number" placeholder="" style="text-align: right" ng-model="currentRecord.nsdejn">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">年所得额-境外</span>
          <input type="number" placeholder="" style="text-align: right" ng-model="currentRecord.nsdejw">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">年所得额-合计</span>
          <input type="number" readonly="readonly" style="text-align: right" value="{{(currentRecord.nsdejw+currentRecord.nsdejn).toFixed(2)}}" id="sbns001_4_nsdehj">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">应纳税所得额</span>
          <input type="number" placeholder="" style="text-align: right" ng-model="currentRecord.ynssde">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">应纳税额</span>
          <input type="number" placeholder="" style="text-align: right" ng-model="currentRecord.ynse">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">已缴(扣)税额</span>
          <input type="number" placeholder="" style="text-align: right" ng-model="currentRecord.yjkse">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">抵扣税额</span>
          <input type="number" placeholder="" style="text-align: right" ng-model="currentRecord.dkse">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">减免税额</span>
          <input type="number" placeholder="" style="text-align: right" ng-model="currentRecord.jmse">
        </label>
        <label class="item item-input">
          <span class="input-label col col-50">应补退税额</span>
          <input type="number" readonly="readonly" style="text-align: right" value="{{(currentRecord.ynse-currentRecord.yjkse-currentRecord.dkse-currentRecord.jmse).toFixed(2)}}" id="sbns001_4_ybtse">
        </label>
      </div>
    </ion-content>
  </ion-modal-view>
</script>

